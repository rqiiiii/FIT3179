<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Malaysia Road Accident Visualisation</title>

  <!-- Vega Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/vega@6"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@6"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

  <style>
    /* --- CSS Reset --- */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    /* --- General Page Layout --- */
    body {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f9fafc;
      color: #333;
    }

    /* --- Header Banner --- */
    header {
      text-align: center;
      background: linear-gradient(90deg, #007bff, #00c6ff);
      color: white;
      padding: 40px 20px 30px 20px;
      width: 100%;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      position: relative;
      z-index: 100;
    }

    header h1 {
      font-size: 2rem;
      margin: 0 0 10px 0;
    }

    header p {
      font-size: 1.1rem;
      max-width: 800px;
      margin: 0 auto;
      opacity: 0.9;
    }

    /* --- Main Content Area --- */
    main {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 30px;
      padding: 30px 20px;
      width: 100%;
    }

    /* --- Section Titles --- */
    .chart-block {
      width: 100%;
      max-width: 1200px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    h2 {
      font-size: 1.8rem;
      color: #222;
      text-align: center;
      margin: 0 0 30px 0;
      padding-bottom: 8px;
      border-bottom: 2px solid #007bff;
      width: 100%;
    }

    section {
      width: 100%;
      padding: 30px;
      border-radius: 12px;
      background: white;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      min-height: 300px;
    }

    section:hover {
      transform: translateY(-5px);
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
    }

    /* Chart-specific styling */
    #halfdonut {
      background: linear-gradient(135deg, #f8f9ff, #e8f4ff);
    }

    #choroplethmap {
      background: linear-gradient(135deg, #f0f7ff, #e1f0ff);
      min-height: 500px;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    #stackbar {
      background: linear-gradient(135deg, #f8f9ff, #e8f4ff);
      display: flex;
      justify-content: center;
      align-items: center;
    }

    #areastack {
      background: linear-gradient(135deg, #f0f7ff, #e1f0ff);
      min-height: 400px;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .half-donuts-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 25px;
    width: 100%;        /* Takes full width of parent */
    align-items: center; /* Centers items VERTICALLY within grid cells */
    margin: 0 auto;     /* ‚Üê This is what centers the grid HORIZONTALLY */
    }

    .half-donut-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      background: white;
      border-radius: 10px;
      padding: 20px 15px;
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
      transition: transform 0.2s ease;
    }

    .half-donut-item:hover {
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .donut-chart {
      width: 140px;
      height: 90px;
      margin-bottom: 15px;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
    }

    .donut-svg {
      width: 100%;
      height: 100%;
    }

    .vehicle-name {
      font-weight: 600;
      font-size: 1rem;
      color: #2c3e50;
      margin-bottom: 8px;
      text-align: center;
    }

    .injury-stats {
      font-size: 0.85rem;
      color: #666;
      text-align: center;
    }

    .injury-count {
      font-weight: bold;
      color: #e74c3c;
    }

    /* Placeholder content for charts */
    .chart-placeholder {
      text-align: center;
      color: #666;
      font-size: 1.1rem;
      padding: 40px;
      width: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    .chart-placeholder h3 {
      margin-bottom: 15px;
      color: #007bff;
    }

    /* Map placeholder styling */
    .map-placeholder {
      width: 100%;
      height: 400px;
      background: linear-gradient(135deg, #e3f2fd, #bbdefb);
      border-radius: 8px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      color: #1565c0;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .map-placeholder h3 {
      margin-bottom: 15px;
      font-size: 1.5rem;
    }

    /* Bar chart placeholder */
    .bar-placeholder {
      width: 100%;
      height: 300px;
      background: linear-gradient(135deg, #e8f5e9, #c8e6c9);
      border-radius: 8px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      color: #2e7d32;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .bar-placeholder h3 {
      margin-bottom: 15px;
      font-size: 1.5rem;
    }

    /* Area chart placeholder */
    .area-placeholder {
      width: 100%;
      height: 350px;
      background: linear-gradient(135deg, #fff3e0, #ffe0b2);
      border-radius: 8px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      color: #ef6c00;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .area-placeholder h3 {
      margin-bottom: 15px;
      font-size: 1.5rem;
    }

    /* --- Footer --- */
    footer {
      text-align: center;
      font-size: 0.9rem;
      color: #666;
      background: #f1f1f1;
      padding: 20px;
      width: 100%;
      margin-top: auto;
    }

    /* Responsive adjustments */
    @media (max-width: 900px) {
      .half-donuts-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 600px) {
      .half-donuts-grid {
        grid-template-columns: 1fr;
      }
      
      h2 {
        font-size: 1.5rem;
      }
    }
  </style>
</head>

<body>
  <!-- Header -->
  <header>
    <h1>Road Accidents in Malaysia (2011)</h1>
    <p>A visual exploration of accident patterns, severity, and regional distribution across Malaysia using Vega-Lite.</p>
  </header>

  <!-- Visualisations -->
  <main>

      <h2>Distribution of Injuries by Vehicle Type</h2>
      <section id="halfdonut" aria-label="Injuries by Vehicle Type">
        <div class="half-donuts-grid">
          <!-- Vehicle 1: Cars -->
          <div class="half-donut-item">
            <div class="vehicle-name">Cars</div>
            <div class="donut-chart">
              <svg class="donut-svg" viewBox="0 0 100 50">
                <!-- Background arc -->
                <path d="M 10,50 A 40,40 0 0 1 90,50" fill="none" stroke="#e0e0e0" stroke-width="12" />
                <!-- Value arc -->
                <path d="M 10,50 A 40,40 0 0 1 90,50" fill="none" stroke="#3498db" stroke-width="12" stroke-dasharray="125.6, 125.6" stroke-dashoffset="37.68" />
              </svg>
            </div>
            <div class="injury-stats"><span class="injury-count">1,234</span> injuries (30%)</div>
          
          <!-- Vehicle 2: Motorcycles -->
          <div class="half-donut-item">
            <div class="vehicle-name">Motorcycles</div>
            <div class="donut-chart">
              <svg class="donut-svg" viewBox="0 0 100 50">
                <path d="M 10,50 A 40,40 0 0 1 90,50" fill="none" stroke="#e0e0e0" stroke-width="12" />
                <path d="M 10,50 A 40,40 0 0 1 90,50" fill="none" stroke="#e74c3c" stroke-width="12" stroke-dasharray="125.6, 125.6" stroke-dashoffset="62.8" />
              </svg>
            </div>
            <div class="injury-stats"><span class="injury-count">2,045</span> injuries (50%)</div>
          </div>
          
          <!-- Vehicle 3: Trucks -->
          <div class="half-donut-item">
            <div class="vehicle-name">Trucks</div>
            <div class="donut-chart">
              <svg class="donut-svg" viewBox="0 0 100 50">
                <path d="M 10,50 A 40,40 0 0 1 90,50" fill="none" stroke="#e0e0e0" stroke-width="12" />
                <path d="M 10,50 A 40,40 0 0 1 90,50" fill="none" stroke="#2ecc71" stroke-width="12" stroke-dasharray="125.6, 125.6" stroke-dashoffset="87.92" />
              </svg>
            </div>
            <div class="injury-stats"><span class="injury-count">654</span> injuries (16%)</div>
          </div>
          
          <!-- Vehicle 4: Buses -->
          <div class="half-donut-item">
            <div class="vehicle-name">Buses</div>
            <div class="donut-chart">
              <svg class="donut-svg" viewBox="0 0 100 50">
                <path d="M 10,50 A 40,40 0 0 1 90,50" fill="none" stroke="#e0e0e0" stroke-width="12" />
                <path d="M 10,50 A 40,40 0 0 1 90,50" fill="none" stroke="#f39c12" stroke-width="12" stroke-dasharray="125.6, 125.6" stroke-dashoffset="100.48" />
              </svg>
            </div>
            <div class="injury-stats"><span class="injury-count">245</span> injuries (6%)</div>
          </div>
          
          <!-- Vehicle 5: Vans -->
          <div class="half-donut-item">
            <div class="vehicle-name">Vans</div>
            <div class="donut-chart">
              <svg class="donut-svg" viewBox="0 0 100 50">
                <path d="M 10,50 A 40,40 0 0 1 90,50" fill="none" stroke="#e0e0e0" stroke-width="12" />
                <path d="M 10,50 A 40,40 0 0 1 90,50" fill="none" stroke="#9b59b6" stroke-width="12" stroke-dasharray="125.6, 125.6" stroke-dashoffset="106.76" />
              </svg>
            </div>
            <div class="injury-stats"><span class="injury-count">189</span> injuries (4.6%)</div>
          </div>
          
          <!-- Vehicle 6: Bicycles -->
          <div class="half-donut-item">
            <div class="vehicle-name">Bicycles</div>
            <div class="donut-chart">
              <svg class="donut-svg" viewBox="0 0 100 50">
                <path d="M 10,50 A 40,40 0 0 1 90,50" fill="none" stroke="#e0e0e0" stroke-width="12" />
                <path d="M 10,50 A 40,40 0 0 1 90,50" fill="none" stroke="#1abc9c" stroke-width="12" stroke-dasharray="125.6, 125.6" stroke-dashoffset="113.04" />
              </svg>
            </div>
            <div class="injury-stats"><span class="injury-count">112</span> injuries (2.7%)</div>
          </div>
          
          <!-- Vehicle 7: Taxis -->
          <div class="half-donut-item">
            <div class="vehicle-name">Taxis</div>
            <div class="donut-chart">
              <svg class="donut-svg" viewBox="0 0 100 50">
                <path d="M 10,50 A 40,40 0 0 1 90,50" fill="none" stroke="#e0e0e0" stroke-width="12" />
                <path d="M 10,50 A 40,40 0 0 1 90,50" fill="none" stroke="#d35400" stroke-width="12" stroke-dasharray="125.6, 125.6" stroke-dashoffset="115.55" />
              </svg>
            </div>
            <div class="injury-stats"><span class="injury-count">98</span> injuries (2.4%)</div>
          </div>
          
          <!-- Vehicle 8: Other Vehicles -->
          <div class="half-donut-item">
            <div class="vehicle-name">Other Vehicles</div>
            <div class="donut-chart">
              <svg class="donut-svg" viewBox="0 0 100 50">
                <path d="M 10,50 A 40,40 0 0 1 90,50" fill="none" stroke="#e0e0e0" stroke-width="12" />
                <path d="M 10,50 A 40,40 0 0 1 90,50" fill="none" stroke="#34495e" stroke-width="12" stroke-dasharray="125.6, 125.6" stroke-dashoffset="118.06" />
              </svg>
            </div>
            <div class="injury-stats"><span class="injury-count">76</span> injuries (1.9%)</div>
          </div>
          
          <!-- Vehicle 9: Unknown -->
          <div class="half-donut-item">
            <div class="vehicle-name">Unknown</div>
            <div class="donut-chart">
              <svg class="donut-svg" viewBox="0 0 100 50">
                <path d="M 10,50 A 40,40 0 0 1 90,50" fill="none" stroke="#e0e0e0" stroke-width="12" />
                <path d="M 10,50 A 40,40 0 0 1 90,50" fill="none" stroke="#7f8c8d" stroke-width="12" stroke-dasharray="125.6, 125.6" stroke-dashoffset="120.57" />
              </svg>
            </div>
            <div class="injury-stats"><span class="injury-count">45</span> injuries (1.1%)</div>
          </div>
        </div>
      </section>
    </div>

    <div class="chart-block">
      <h2>Accident Hotspots by State</h2>
      <section id="choroplethmap" aria-label="Malaysia Road Accidents Choropleth Map">
        <div class="map-placeholder">
          <h3>Malaysia Accident Hotspots Map</h3>
          <p>This choropleth map would show accident density by state</p>
          <p><em>(Vega-Lite visualization would appear here)</em></p>
        </div>
      </section>
    </div>

    <div class="chart-block">
      <h2>Severity of Road Accidents</h2>
      <section id="stackbar" aria-label="Road Accident Severity">
        <div class="bar-placeholder">
          <h3>Accident Severity Visualization</h3>
          <p>This stacked bar chart would show accident severity distribution</p>
          <p><em>(Vega-Lite visualization would appear here)</em></p>
        </div>
      </section>
    </div>

    <div class="chart-block">
      <h2>Trend of Deaths and Injuries Over Time</h2>
      <section id="areastack" aria-label="Deaths and Injuries Area Chart">
        <div class="area-placeholder">
          <h3>Deaths and Injuries Over Time</h3>
          <p>This area chart would show trends in deaths and injuries over time</p>
          <p><em>(Vega-Lite visualization would appear here)</em></p>
        </div>
      </section>
    </div>
  </main>

  <!-- Footer -->
  <footer>
    <p>Created by Gan Ruiqi | FIT3179 Data Visualisation (2025)</p>
  </footer>

  <!-- Vega Visualisation Scripts -->
  <script src="js/vega_lite_vis.js"></script>

  <!-- Vega Embeds (commented out as per original) -->
  <!--
  <script>
    const options = { actions: false, renderer: 'canvas' };

    vegaEmbed('#halfdonut', 'js/injuries_roaduser.json', options).catch(console.error);
    vegaEmbed('#choroplethmap', 'js/total_accidents.json', options).catch(console.error);
    vegaEmbed('#stackbar', 'js/accident_severity.json', options).catch(console.error);
    vegaEmbed('#areastack', 'js/accident_condition.json', options).catch(console.error);
  </script>
  -->
</body>
</html>